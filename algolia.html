---
layout: search
title: Search
subtitle: 
permalink: /algolia.html
include_on_search: false
---
<header class="jumbotron jumbotron-fluid mb-0 py-0 text-md-center header-chulapa"><div class="container-lg pt-4">
        <div class="row">
            <div class="col-xl-8 offset-xl-2">
            <h1>Search <i class="fa fa-search" aria-hidden="true"></i></h1>
			</div>
		<div>
	</div>
</header>
<main class="container-lg pt-2 pb-5 flex-fill">
    <div class="row">
        <div class="col-xl-8 offset-xl-2 my-auto text-center" style="padding-bottom:30vh">
    <div class="container">
      <div class="search-panel">
        <div class="search-panel__results">
          <div id="searchbox"></div>
          <div id="hits"></div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4"></script>
            
        </div>
    </div>
</main>
    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.5.0/dist/instantsearch.production.min.js.map"></script>
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4"></script>

<script>
/* global algoliasearch instantsearch */

const algoliaClient = algoliasearch(
  'KOIKA5PDQO',
  '7f1fe42bef3f03458cb3a911ebc7e0ac'
);

const searchClient = {
  search(requests) {
    if (requests.every(({ params }) => !params.query)) {
      return Promise.resolve({
        results: requests.map(() => ({
          hits: [],
          nbHits: 0,
          nbPages: 0,
        })),
      });
    }

    return algoliaClient.search(requests);
  },
};

const search = instantsearch({
  indexName: 'chulapa',
  searchClient,
});

search.addWidgets([
  instantsearch.widgets.searchBox({
    container: '#searchbox',
  }),
  instantsearch.widgets.hits({
    container: '#hits',
    templates: {
      empty: `
        {{#query}}
          No results for <q>{{query}}</q>
        {{/query}}
      `,
      item: `
        <article>
          <h1>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</h1>
          <p>{{#helpers.highlight}}{ "attribute": "content" }{{/helpers.highlight}}</p>
        </article>
      `,
    },
  }),
  instantsearch.widgets.pagination({
    container: '#pagination',
  }),
]);

search.start();

</script>
